sudo: false
before_install:
  - apt-get update && apt-get install g++ cmake wget
  - wget https://storage.googleapis.com/golang/go1.6.linux-amd64.tar.gz && \
    sudo tar -C /usr/local/ -xzf go1.6.linux-amd64.tar.gz && \
    rm -f go1.6.linux-amd64.tar.gz
  - go get github.com/onsi/ginkgo/ginkgo
script:
  - go vet -x ./go/...
  - golint ./go/...
  - ginkgo -r --trace --race ./go/...
  - mkdir build && cd build && cmake .. && make test
